<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Forum - Thread</title>
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="../css/home.css" />
  <link rel="stylesheet" href="../css/thread.css" />
</head>
<body>
  <nav class="navbar">
    <div class="logo-container">
      <img src="../images/logo.png" alt="Forum Logo" class="logo-img" />
      <span class="site-title">Bro Company Forum</span>
    </div>
    <ul>
      <li><a href="home.html">Home(r of steel)</a></li>
      <li><a href="#">Login</a></li>
    </ul>
  </nav>

  <div class="stylebar"></div>

  <div class="thread-info">
  <h1 id="thread-title">Titre</h1>

  <p ><strong>Catégorie :</strong> <span id="thread-category">...</span></p>

  <p ><strong>Description :</strong>
    <span id="thread-description">...</span>
  </p>

  <p ><strong>Date :</strong> <span id="thread-date">...</span></p>
  <button id="like-button">👍</button>
<span id="like-count">0</span>
<br>
<button id="dislike-button">👎</button>
<span id="dislike-count">0</span>


</div>

<div class="comments-section">
    <h3>Comments</h3>
    <div id="comments-container"></div>
    
    <form id="comment-form" class="comment-form">
        <textarea id="comment-content" placeholder="Write a comment..." required></textarea>
        <button type="submit">Commenter</button>
    </form>
</div>

  <div id="thread-container"></div>

  <footer style="position: fixed;">
    <p>©2025 Bro Company Forum. All rights reserved.</p>
    <p>Contact: <a href="mailto:support@brocompany.com" style="color: #66ccff;">support@brocompany.com</a></p>
  </footer>

  <script type="module" src="../js/threadPage.js"></script>
  <script>
document.addEventListener('DOMContentLoaded', () => {
    const token = localStorage.getItem('authToken');
    const voteButtons = document.querySelectorAll('#like-button, #dislike-button');
    const commentForm = document.getElementById('comment-form');
    
    if (!token) {
        voteButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                alert('Connectez-vous pour voter');
                window.location.href = '/public/html/login.html';
            });
        });
        
        if (commentForm) {
            commentForm.innerHTML = '<p>Veuillez <a href="/public/html/login.html">vous connecter</a> pour commenter</p>';
        }
    }
});
</script>
</body>
</html>
